(()=>{var e={};e.id=421,e.ids=[421],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5511:e=>{"use strict";e.exports=require("crypto")},4985:e=>{"use strict";e.exports=require("dns")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},3496:e=>{"use strict";e.exports=require("http2")},1645:e=>{"use strict";e.exports=require("net")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},9771:e=>{"use strict";e.exports=require("process")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},4348:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>l});var s=r(260),o=r(8203),n=r(5155),i=r.n(n),a=r(7292),d={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);r.d(t,d);let l=["",{children:["(protected)",{children:["quiz",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,663)),"D:\\WSEI_FF\\frontend-lab-app\\app\\(protected)\\quiz\\create\\page.js"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2165)),"D:\\WSEI_FF\\frontend-lab-app\\app\\(protected)\\layout.js"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,9019)),"D:\\WSEI_FF\\frontend-lab-app\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.bind(r,1617)),"D:\\WSEI_FF\\frontend-lab-app\\app\\not-found.js"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\WSEI_FF\\frontend-lab-app\\app\\(protected)\\quiz\\create\\page.js"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(protected)/quiz/create/page",pathname:"/quiz/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2549:(e,t,r)=>{Promise.resolve().then(r.bind(r,2165))},6117:(e,t,r)=>{Promise.resolve().then(r.bind(r,7409))},5321:(e,t,r)=>{Promise.resolve().then(r.bind(r,663))},5593:(e,t,r)=>{Promise.resolve().then(r.bind(r,4027))},7409:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(5512),o=r(5674);r(8009);var n=r(9334);let i=function({children:e}){let{user:t,loading:r}=(0,o.A)();return((0,n.useRouter)(),(0,n.usePathname)(),r)?(0,s.jsx)("div",{children:"Loading..."}):(0,s.jsx)(s.Fragment,{children:e})}},4027:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5512),o=r(8009),n=r(9334),i=r(2374),a=r(4034),d=r(7656);function l(){let e=(0,i.xI)(),t=(0,n.useRouter)(),[r,l]=(0,o.useState)(""),[c,u]=(0,o.useState)([]),[p,m]=(0,o.useState)(""),x=e.currentUser,h=e=>{let t=[...c];t.splice(e,1),u(t)},b=(e,t,r)=>{let s=[...c];s[e][t]=r,u(s)},g=(e,t,r,s)=>{let o=[...c];o[e].options[t][r]=s,u(o)},f=(e,t)=>{let r=[...c];r[e].correctAnswer=t,u(r)},v=(e,t)=>{let r=[...c],s=r[e].correctAnswer||[];s.includes(t)?r[e].correctAnswer=s.filter(e=>e!==t):r[e].correctAnswer=[...s,t],u(r)},y=e=>{let t=[...c];"matching"===t[e].type?(t[e].options.push({pair1:"",pair2Options:[]}),t[e].correctAnswer=t[e].correctAnswer||[]):t[e].options.push({text:""}),u(t)},j=(e,t)=>{let r=[...c];r[e].options.splice(t,1),u(r)},w=(e,t)=>{let r=[...c];r[e].options[t].pair2Options.push(""),u(r)},k=(e,t,r,s)=>{let o=[...c];o[e].options[t].pair2Options[r]=s,u(o)},N=(e,t,r)=>{let s=[...c];s[e].correctAnswer[t]=r,u(s)},q=async e=>{e.preventDefault();try{let e=await (0,d.gS)((0,d.rJ)(a.db,"quizzes"),{title:r,creatorId:x.uid}),s=(0,d.wP)(a.db);c.forEach(t=>{let r=(0,d.H9)((0,d.rJ)(a.db,"quizzes",e.id,"questions"));s.set(r,t)}),await s.commit(),console.log("Questions added successfully"),t.push("/")}catch(e){m(e.message),console.error("Error creating quiz:",e)}};return(0,s.jsx)("section",{className:"bg-white",children:(0,s.jsx)("div",{className:"lg:grid lg:min-h-screen lg:grid-cols-12",children:(0,s.jsx)("main",{className:"flex items-center justify-center p-8 sm:p-12 lg:col-span-12",children:(0,s.jsxs)("div",{className:"max-w-xl lg:max-w-3xl",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:"Create Quiz"}),p&&(0,s.jsx)("p",{className:"mt-4 text-red-600",children:p}),(0,s.jsxs)("form",{onSubmit:q,className:"mt-8 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Quiz Title"}),(0,s.jsx)("input",{id:"title",name:"title",type:"text",value:r,onChange:e=>l(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),c.map((e,t)=>(0,s.jsxs)("div",{className:"border p-4 rounded-md shadow-sm",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Question"}),(0,s.jsx)("input",{type:"text",value:e.question,onChange:e=>b(t,"question",e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Type"}),(0,s.jsxs)("select",{value:e.type,onChange:e=>b(t,"type",e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,s.jsx)("option",{value:"single",children:"Single Choice"}),(0,s.jsx)("option",{value:"multiple",children:"Multiple Choice"}),(0,s.jsx)("option",{value:"list",children:"List"}),(0,s.jsx)("option",{value:"matching",children:"Matching"})]}),"matching"===e.type?e.options.map((e,r)=>(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pair 1"}),(0,s.jsx)("input",{type:"text",value:e.pair1,onChange:e=>g(t,r,"pair1",e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mt-2",children:"Pair 2 Options"}),e.pair2Options.map((e,o)=>(0,s.jsx)("input",{type:"text",value:e,onChange:e=>k(t,r,o,e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},o)),(0,s.jsx)("button",{type:"button",onClick:()=>w(t,r),className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Add Pair Option"})]},r)):e.options.map((e,r)=>(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Option"}),(0,s.jsx)("input",{type:"text",value:e.text,onChange:e=>g(t,r,"text",e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,s.jsx)("button",{type:"button",onClick:()=>j(t,r),className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Remove Option"})]},r)),(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Correct Answer"}),"single"===e.type||"list"===e.type?e.options.map((r,o)=>(0,s.jsxs)("label",{htmlFor:`correct-${t}-${o}`,className:"flex items-center cursor-pointer select-none text-dark dark:text-white",children:[(0,s.jsx)("input",{type:"radio",className:"hidden",id:`correct-${t}-${o}`,name:`correct-${t}`,value:r.text,checked:e.correctAnswer===r.text,onChange:e=>f(t,e.target.value)}),(0,s.jsx)("div",{className:"flex items-center justify-center w-5 h-5 mr-4 border border-stroke dark:border-dark-3 rounded-full",children:(0,s.jsx)("span",{className:`dot h-[10px] w-[10px] rounded-full ${e.correctAnswer===r.text?"bg-indigo-600":"bg-transparent"}`})}),r.text]},o)):"multiple"===e.type?e.options.map((r,o)=>(0,s.jsxs)("label",{htmlFor:`correct-${t}-${o}`,className:"flex items-center cursor-pointer select-none text-dark dark:text-white",children:[(0,s.jsx)("input",{type:"checkbox",className:"hidden",id:`correct-${t}-${o}`,name:`correct-${t}`,value:r.text,checked:e.correctAnswer?.includes(r.text),onChange:()=>v(t,r.text)}),(0,s.jsx)("div",{className:"flex items-center justify-center w-5 h-5 mr-4 border border-stroke dark:border-dark-3 rounded box",children:(0,s.jsx)("span",{className:`dot h-[10px] w-[10px] rounded-sm ${e.correctAnswer?.includes(r.text)?"bg-indigo-600":"bg-transparent"}`})}),r.text]},o)):"matching"===e.type?e.options.map((r,o)=>(0,s.jsxs)("div",{className:"mt-2",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Correct Pair for ",r.pair1]}),(0,s.jsxs)("select",{value:e.correctAnswer[o]||"",onChange:e=>N(t,o,e.target.value),className:"relative z-20 w-full appearance-none rounded-lg border border-stroke dark:border-dark-3 bg-transparent py-[10px] px-5 text-dark-6 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-gray-2",children:[(0,s.jsx)("option",{value:"",className:"dark:bg-dark-2",disabled:!0,children:"Select a match"}),r.pair2Options.map((e,t)=>(0,s.jsx)("option",{className:"dark:bg-dark-2",value:e,children:e},t))]})]},o)):null,(0,s.jsx)("button",{type:"button",onClick:()=>y(t),className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Add Option"}),(0,s.jsx)("button",{type:"button",onClick:()=>h(t),className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Remove Question"})]},t)),(0,s.jsx)("button",{type:"button",onClick:()=>{u([...c,{question:"",options:[],type:"single",correctAnswer:""}])},className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Add Question"}),(0,s.jsx)("button",{type:"submit",className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Create Quiz"})]})]})})})})}},9334:(e,t,r)=>{"use strict";var s=r(8686);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},2165:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\WSEI_FF\\\\frontend-lab-app\\\\app\\\\(protected)\\\\layout.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\WSEI_FF\\frontend-lab-app\\app\\(protected)\\layout.js","default")},663:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\WSEI_FF\\\\frontend-lab-app\\\\app\\\\(protected)\\\\quiz\\\\create\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\WSEI_FF\\frontend-lab-app\\app\\(protected)\\quiz\\create\\page.js","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[638,644,367],()=>r(4348));module.exports=s})();