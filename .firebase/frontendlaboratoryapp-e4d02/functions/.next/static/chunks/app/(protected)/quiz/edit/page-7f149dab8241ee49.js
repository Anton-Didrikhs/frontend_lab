(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[129],{3159:(e,t,r)=>{Promise.resolve().then(r.bind(r,3909))},3909:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var s=r(5155),i=r(2115),a=r(6046),n=r(399),o=r(1746),d=r(7058);function l(){let e=(0,n.xI)(),t=(0,a.useRouter)(),[r,l]=(0,i.useState)([]),[c,u]=(0,i.useState)("");(0,i.useEffect)(()=>{(async()=>{let t=e.currentUser;if(!t){u("You must be logged in to view your quizzes.");return}try{let e=(0,d.P)((0,d.rJ)(o.db,"quizzes"),(0,d._M)("creatorId","==",t.uid)),r=(await (0,d.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));l(r)}catch(e){u("Error fetching quizzes."),console.error("Error fetching quizzes:",e)}})()},[e]);let m=async e=>{try{let t=(0,d.wP)(o.db),s=(0,d.H9)(o.db,"quizzes",e),i=(0,d.rJ)(o.db,"quizzes",e,"questions");(await (0,d.GG)(i)).forEach(e=>{t.delete(e.ref)}),t.delete(s),await t.commit(),l(r.filter(t=>t.id!==e))}catch(e){u("Error deleting quiz."),console.error("Error deleting quiz:",e)}};return(0,s.jsx)("section",{className:"bg-white",children:(0,s.jsx)("div",{className:"lg:grid lg:min-h-screen lg:grid-cols-12",children:(0,s.jsx)("main",{className:"flex items-center justify-center p-8 sm:p-12 lg:col-span-12",children:(0,s.jsxs)("div",{className:"max-w-xl lg:max-w-3xl",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:"Your Quizzes"}),c&&(0,s.jsx)("p",{className:"mt-4 text-red-600",children:c}),(0,s.jsx)("ul",{className:"mt-8 space-y-4",children:r.map(e=>(0,s.jsxs)("li",{className:"border p-4 rounded-md shadow-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-bold",children:e.title}),(0,s.jsx)("button",{onClick:()=>t.push("/quiz/edit/".concat(e.id)),class:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Edit Quiz"}),(0,s.jsx)("button",{onClick:()=>m(e.id),class:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Delete Quiz"})]},e.id))})]})})})})}},1746:(e,t,r)=>{"use strict";r.d(t,{db:()=>d,j:()=>o});var s=r(9904),i=r(399);r(2115);var a=r(7058);let n=(0,s.Dk)().length?(0,s.Sx)():(0,s.Wp)({apiKey:"AIzaSyC4alDMQyTE59y2R8moUthpfHb1xh5t1fk",authDomain:"frontendlaboratoryapp-e4d02.firebaseapp.com",projectId:"frontendlaboratoryapp-e4d02",storageBucket:"frontendlaboratoryapp-e4d02.firebasestorage.app",messagingSenderId:"235421501756",appId:"1:235421501756:web:39513633b0900ab1077639",measurementId:"G-24PFG7KK3J"}),o=(0,i.xI)(n),d=(0,a.aU)(n)},6046:(e,t,r)=>{"use strict";var s=r(6658);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[882,992,734,778,441,517,358],()=>t(3159)),_N_E=e.O()}]);