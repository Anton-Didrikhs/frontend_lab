(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{2471:(e,t,r)=>{Promise.resolve().then(r.bind(r,337))},337:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l});var o=r(5155),n=r(2115),s=r(6046),i=r(399),a=r(1746),d=r(7058);function l(){let e=(0,i.xI)(),t=(0,s.useRouter)(),[r,l]=(0,n.useState)(""),[c,u]=(0,n.useState)([]),[m,p]=(0,n.useState)(""),x=e.currentUser,b=e=>{let t=[...c];t.splice(e,1),u(t)},g=(e,t,r)=>{let o=[...c];o[e][t]=r,u(o)},h=(e,t,r,o)=>{let n=[...c];n[e].options[t][r]=o,u(n)},f=(e,t)=>{let r=[...c];r[e].correctAnswer=t,u(r)},y=(e,t)=>{let r=[...c],o=r[e].correctAnswer||[];o.includes(t)?r[e].correctAnswer=o.filter(e=>e!==t):r[e].correctAnswer=[...o,t],u(r)},v=e=>{let t=[...c];"matching"===t[e].type?(t[e].options.push({pair1:"",pair2Options:[]}),t[e].correctAnswer=t[e].correctAnswer||[]):t[e].options.push({text:""}),u(t)},k=(e,t)=>{let r=[...c];r[e].options.splice(t,1),u(r)},j=(e,t)=>{let r=[...c];r[e].options[t].pair2Options.push(""),u(r)},w=(e,t,r,o)=>{let n=[...c];n[e].options[t].pair2Options[r]=o,u(n)},N=(e,t,r)=>{let o=[...c];o[e].correctAnswer[t]=r,u(o)},C=async e=>{e.preventDefault();try{let e=await (0,d.gS)((0,d.rJ)(a.db,"quizzes"),{title:r,creatorId:x.uid}),o=(0,d.wP)(a.db);c.forEach(t=>{let r=(0,d.H9)((0,d.rJ)(a.db,"quizzes",e.id,"questions"));o.set(r,t)}),await o.commit(),console.log("Questions added successfully"),t.push("/")}catch(e){p(e.message),console.error("Error creating quiz:",e)}};return(0,o.jsx)("section",{className:"bg-white",children:(0,o.jsx)("div",{className:"lg:grid lg:min-h-screen lg:grid-cols-12",children:(0,o.jsx)("main",{className:"flex items-center justify-center p-8 sm:p-12 lg:col-span-12",children:(0,o.jsxs)("div",{className:"max-w-xl lg:max-w-3xl",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl",children:"Create Quiz"}),m&&(0,o.jsx)("p",{className:"mt-4 text-red-600",children:m}),(0,o.jsxs)("form",{onSubmit:C,className:"mt-8 space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Quiz Title"}),(0,o.jsx)("input",{id:"title",name:"title",type:"text",value:r,onChange:e=>l(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),c.map((e,t)=>(0,o.jsxs)("div",{className:"border p-4 rounded-md shadow-sm",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Question"}),(0,o.jsx)("input",{type:"text",value:e.question,onChange:e=>g(t,"question",e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Type"}),(0,o.jsxs)("select",{value:e.type,onChange:e=>g(t,"type",e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[(0,o.jsx)("option",{value:"single",children:"Single Choice"}),(0,o.jsx)("option",{value:"multiple",children:"Multiple Choice"}),(0,o.jsx)("option",{value:"list",children:"List"}),(0,o.jsx)("option",{value:"matching",children:"Matching"})]}),"matching"===e.type?e.options.map((e,r)=>(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pair 1"}),(0,o.jsx)("input",{type:"text",value:e.pair1,onChange:e=>h(t,r,"pair1",e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mt-2",children:"Pair 2 Options"}),e.pair2Options.map((e,n)=>(0,o.jsx)("input",{type:"text",value:e,onChange:e=>w(t,r,n,e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"},n)),(0,o.jsx)("button",{type:"button",onClick:()=>j(t,r),className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Add Pair Option"})]},r)):e.options.map((e,r)=>(0,o.jsxs)("div",{className:"mt-4",children:[(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Option"}),(0,o.jsx)("input",{type:"text",value:e.text,onChange:e=>h(t,r,"text",e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"}),(0,o.jsx)("button",{type:"button",onClick:()=>k(t,r),className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Remove Option"})]},r)),(0,o.jsx)("label",{className:"block text-sm font-medium text-gray-700 mt-4",children:"Correct Answer"}),"single"===e.type||"list"===e.type?e.options.map((r,n)=>(0,o.jsxs)("label",{htmlFor:"correct-".concat(t,"-").concat(n),className:"flex items-center cursor-pointer select-none text-dark dark:text-white",children:[(0,o.jsx)("input",{type:"radio",className:"hidden",id:"correct-".concat(t,"-").concat(n),name:"correct-".concat(t),value:r.text,checked:e.correctAnswer===r.text,onChange:e=>f(t,e.target.value)}),(0,o.jsx)("div",{className:"flex items-center justify-center w-5 h-5 mr-4 border border-stroke dark:border-dark-3 rounded-full",children:(0,o.jsx)("span",{className:"dot h-[10px] w-[10px] rounded-full ".concat(e.correctAnswer===r.text?"bg-indigo-600":"bg-transparent")})}),r.text]},n)):"multiple"===e.type?e.options.map((r,n)=>{var s,i;return(0,o.jsxs)("label",{htmlFor:"correct-".concat(t,"-").concat(n),className:"flex items-center cursor-pointer select-none text-dark dark:text-white",children:[(0,o.jsx)("input",{type:"checkbox",className:"hidden",id:"correct-".concat(t,"-").concat(n),name:"correct-".concat(t),value:r.text,checked:null===(s=e.correctAnswer)||void 0===s?void 0:s.includes(r.text),onChange:()=>y(t,r.text)}),(0,o.jsx)("div",{className:"flex items-center justify-center w-5 h-5 mr-4 border border-stroke dark:border-dark-3 rounded box",children:(0,o.jsx)("span",{className:"dot h-[10px] w-[10px] rounded-sm ".concat((null===(i=e.correctAnswer)||void 0===i?void 0:i.includes(r.text))?"bg-indigo-600":"bg-transparent")})}),r.text]},n)}):"matching"===e.type?e.options.map((r,n)=>(0,o.jsxs)("div",{className:"mt-2",children:[(0,o.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Correct Pair for ",r.pair1]}),(0,o.jsxs)("select",{value:e.correctAnswer[n]||"",onChange:e=>N(t,n,e.target.value),className:"relative z-20 w-full appearance-none rounded-lg border border-stroke dark:border-dark-3 bg-transparent py-[10px] px-5 text-dark-6 outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-gray-2",children:[(0,o.jsx)("option",{value:"",className:"dark:bg-dark-2",disabled:!0,children:"Select a match"}),r.pair2Options.map((e,t)=>(0,o.jsx)("option",{className:"dark:bg-dark-2",value:e,children:e},t))]})]},n)):null,(0,o.jsx)("button",{type:"button",onClick:()=>v(t),className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Add Option"}),(0,o.jsx)("button",{type:"button",onClick:()=>b(t),className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Remove Question"})]},t)),(0,o.jsx)("button",{type:"button",onClick:()=>{u([...c,{question:"",options:[],type:"single",correctAnswer:""}])},className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Add Question"}),(0,o.jsx)("button",{type:"submit",className:"inline-block rounded-sm border border-indigo-600 bg-indigo-600 px-12 py-3 text-sm font-medium text-white hover:bg-transparent hover:text-indigo-600 focus:ring-3 focus:outline-hidden",children:"Create Quiz"})]})]})})})})}},1746:(e,t,r)=>{"use strict";r.d(t,{db:()=>d,j:()=>a});var o=r(9904),n=r(399);r(2115);var s=r(7058);let i=(0,o.Dk)().length?(0,o.Sx)():(0,o.Wp)({apiKey:"AIzaSyC4alDMQyTE59y2R8moUthpfHb1xh5t1fk",authDomain:"frontendlaboratoryapp-e4d02.firebaseapp.com",projectId:"frontendlaboratoryapp-e4d02",storageBucket:"frontendlaboratoryapp-e4d02.firebasestorage.app",messagingSenderId:"235421501756",appId:"1:235421501756:web:39513633b0900ab1077639",measurementId:"G-24PFG7KK3J"}),a=(0,n.xI)(i),d=(0,s.aU)(i)},6046:(e,t,r)=>{"use strict";var o=r(6658);r.o(o,"usePathname")&&r.d(t,{usePathname:function(){return o.usePathname}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})}},e=>{var t=t=>e(e.s=t);e.O(0,[882,992,734,778,441,517,358],()=>t(2471)),_N_E=e.O()}]);